<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.jin.prjdb.notice.map.NoticeMapper">
	<select id="noticeSelectList" resultType="co.jin.prjdb.notice.service.NoticeVO">
	SELECT * FORM NOTICE
	<if test ="key == 'title'"> WHERE NOTICE_TITLE LIKE '%'||{#val} ||'%' </if>
	<if test ="key == 'content'"> WHERE NOTICE_CONTENT LIKE '%'||{#val} ||'%' </if>
	<if test ="key == 'writer'"> WHERE NOTICE_WRITER_NAME LIKE '%'||{#val} ||'%' </if>
	</select>
	
	
	<select id="noticeSelect">
		SELECT * FROM NOTICE 
		WHERE NOTICE_ID = #{noticeId}
	</select>
	
	<insert id="noticeInsert">
		<selectKey keyProperty="id" resultType="int" order="BEFORE">
			SLELCT 
			NVL(MAX(NOTICE_ID),1) +1 AS ID
			FROM NOTICE
			</selectKey>			
		INSERT INTO NOTICE
		VALUES(#{id},#{noticeWriter},#{noticeTitle}, #{noticeContent),
		 #{noticeDate}, #{noticeAttech},#{noticeImage}, #{noticeWriterName})
		</insert>
		
		
	<update id="noticeUpdate"></update>
	<delete id="noticeDelete"></delete>
	<update id="noticeHitUpdate">
		UPDATE NOTICE SET NOTICE_HIT = NOTICE_HIT + 1
		WHERE NOTICE_ID = #{noticeId}
		
	</update>
	

</mapper>